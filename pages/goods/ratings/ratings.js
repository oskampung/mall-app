(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods/ratings/ratings"],{2592:function(t,e,n){"use strict";(function(t){n("1822");a(n("66fd"));var e=a(n("8584"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"2a5c":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;n("4a45");var a=n("116b");function o(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=i(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,r=!0,c=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return r=t.done,t},e:function(t){c=!0,o=t},f:function(){try{r||null==a.return||a.return()}finally{if(c)throw o}}}}function i(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var c={data:function(){return{goodsId:"0",page:{total:0,currentPage:1,pageSize:20},labelList:[{name:"全部",number:0,type:"all"},{name:"好评",number:0,type:"good"},{name:"中评",number:0,type:"secondary"},{name:"差评",number:0,type:"poor"}],labelIndex:0,ratingsList:[],ratingsListx:[{id:1,username:"大黑哥",face:"/static/img/face.png",date:"2019-04-21",spec:"规格: XL",grade:"good",first:{content:"好看，可以，不愧是专业的，才拿到手上就研究了半天才装上",img:["https://ae01.alicdn.com/kf/HTB1wREwTXzqK1RjSZFvq6AB7VXaT.jpg","https://ae01.alicdn.com/kf/HTB1sL7hTjDpK1RjSZFrq6y78VXaw.jpg","https://ae01.alicdn.com/kf/HTB111soTbvpK1RjSZPiq6zmwXXaB.jpg","https://ae01.alicdn.com/kf/HTB1O2TRTmzqK1RjSZPcq6zTepXa4.jpg"],video:[{img:"https://ae01.alicdn.com/kf/HTB1AMEBTcfpK1RjSZFOq6y6nFXaK.jpg",path:"https://mp4.vjshi.com/2018-12-28/1083f3db90334f86e3fc3586b4472914.mp4"}]},append:{extDays:65,content:"用了一段时间，质量很好，体验很流畅，推荐购买",img:["https://ae01.alicdn.com/kf/HTB1dKZtTgHqK1RjSZFEq6AGMXXaS.jpg","https://ae01.alicdn.com/kf/HTB18h3oTmzqK1RjSZFjq6zlCFXap.jpg"],video:[{img:"https://ae01.alicdn.com/kf/HTB1AMEBTcfpK1RjSZFOq6y6nFXaK.jpg",path:"https://mp4.vjshi.com/2017-06-17/ed1d63669bea39f5ef078c4e194291d6.mp4"}]}},{id:2,username:"小黑狗",face:"/static/img/face.png",date:"2019-04-21",spec:"规格: XL",grade:"secondary",first:{content:"好评，看图",img:["https://ae01.alicdn.com/kf/HTB111soTbvpK1RjSZPiq6zmwXXaB.jpg","https://ae01.alicdn.com/kf/HTB1O2TRTmzqK1RjSZPcq6zTepXa4.jpg"],video:[]}},{id:3,username:"小黑狗",face:"/static/img/face.jpg",date:"2019-04-21",spec:"规格: XL",grade:"poor",first:{content:"好评，看图",img:["https://ae01.alicdn.com/kf/HTB111soTbvpK1RjSZPiq6zmwXXaB.jpg","https://ae01.alicdn.com/kf/HTB1O2TRTmzqK1RjSZPcq6zTepXa4.jpg"],video:[]}},{id:3,username:"小黑狗",face:"/static/img/face.jpg",date:"2019-04-21",spec:"规格: XL",grade:"secondary",first:{content:"系统默认好评",img:[],video:[]}}],videoDirection:0,showFullscreenBtn:!0,showPlayBtn:!0,isPlayVideo:!0,videoSrc:""}},onLoad:function(t){console.log(t),this.goodsId=t.gid,this.loadRatingData(t.gid)},onReady:function(e){this.videoContext=t.createVideoContext("myVideo")},onPullDownRefresh:function(){setTimeout((function(){t.stopPullDownRefresh()}),1e3)},onReachBottom:function(){t.showToast({title:"触发上拉加载"})},methods:{loadRatingData:function(t){var e=this,n={goodsId:t,current:this.page.currentPage,size:this.page.pageSize};(0,a.getGoodsRatingList)(n).then((function(t){if(0==t.data.code&&t.data.data.records.length>0){var n,a=o(e.labelList);try{for(a.s();!(n=a.n()).done;){var i=n.value;"all"==i.type&&(i.number=t.data.data.total),"good"==i.type&&(i.number=t.data.data.total)}}catch(d){a.e(d)}finally{a.f()}for(var r=t.data.data.records,c=0;c<r.length;c++){var s={id:r[c].id,username:r[c].username,face:r[c].avatar||"/static/img/face.png",date:r[c].createTime,spec:r[c].spencName||"~~",grade:"secondary",first:r[c].first,append:null!=r[c].append?r[c].append:null};e.ratingsList.push(s)}}console.log(e.ratingsList)}))},loadRatings:function(e){this.labelIndex=e,t.showToast({title:"切换评论列表"})},playVideo:function(t){this.videoSrc=t,this.$nextTick((function(){this.videoContext.requestFullScreen({direction:0})}))},stopPlayVideo:function(){this.videoContext.pause()},videoPause:function(){this.videoSrc=""},viderFullscreen:function(t){t.detail.fullScreen?this.videoContext.play():this.stopPlayVideo()},showBigImg:function(e,n){t.previewImage({current:e,urls:n})}}};e.default=c}).call(this,n("543d")["default"])},4082:function(t,e,n){},"5b19":function(t,e,n){"use strict";var a=n("4082"),o=n.n(a);o.a},8584:function(t,e,n){"use strict";n.r(e);var a=n("f7e7"),o=n("b934");for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n("5b19");var r,c=n("f0c5"),s=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],r);e["default"]=s.exports},b934:function(t,e,n){"use strict";n.r(e);var a=n("2a5c"),o=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=o.a},f7e7:function(t,e,n){"use strict";var a,o=function(){var t=this,e=t.$createElement;t._self._c},i=[];n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}))}},[["2592","common/runtime","common/vendor"]]]);