(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/manager/product/product"],{"015d":function(t,e,a){"use strict";var n=a("925e"),i=a.n(n);i.a},"166b":function(t,e,a){"use strict";(function(t){a("1822");n(a("66fd"));var e=n(a("610c"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},"610c":function(t,e,a){"use strict";a.r(e);var n=a("867d"),i=a("dbc7");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("015d");var r,c=a("f0c5"),u=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=u.exports},"867d":function(t,e,a){"use strict";var n,i=function(){var t=this,e=t.$createElement,a=(t._self._c,t._f("toMoney")(t.formData.price));t.$mp.data=Object.assign({},{$root:{f0:a}})},o=[];a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}))},"925e":function(t,e,a){},dbc7:function(t,e,a){"use strict";a.r(e);var n=a("ed67"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},ed67:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;a("4a45");var n=i(a("be89"));function i(t){return t&&t.__esModule?t:{default:t}}var o={data:function(){return{masterMaxCount:10,tabIndex:0,formData:{},product:{name:"产品名称",price:100,inventory:1,status:2,delFlag:0,coverImgs:"",imgs:[{label:"",value:"",sort:"0"}],detailImgs:[{label:"",value:"",sort:"0"}],detailHtml:"",category:"",freeFreight:"0"}}},filters:{toMoney:function(t){return"￥"+Number(t||0).toFixed(2)}},onShow:function(){this.initData()},methods:{initData:function(){var t=getApp(),e=t.globalData,a=e.PRODUCEDETAIL,n=a.detailList,i=(n||[]).filter((function(t){return"image"==t.type}));this.formData={title:a.title||"",category:a.category||"",masterImgs:a.masterImgs||[],detailList:a.detailList||[],detailImgList:i,infinite:!1,price:699}},chooseImage:function(e){var a=this,i=this.formData.masterImgs.length,o=this.masterMaxCount-i;0==i&&(o=9),t.chooseImage({count:o,sizeType:["original","compressed"],sourceType:["album"],success:function(t){var i=getApp(),o=i.globalData;a.formData[e]=a.formData[e].concat(t.tempFilePaths),o.PRODUCEDETAIL[e]=a.formData[e];var r="/admin/sys-file/image",c=(0,n.default)(r,t.tempFilePaths,"file",{}).then((function(t){console.log(t)}));console.log(c)}})},previewImage:function(e,a){var n=this.formData[a],i=n[e];-1==e&&(e=0),t.previewImage({current:i,urls:n,longPressActions:{itemList:["发送给朋友","保存图片","收藏"],success:function(t){console.log("选中了第"+(t.tapIndex+1)+"个按钮,第"+(t.index+1)+"张图片")},fail:function(t){console.log(t.errMsg)}}})},chooseDetailImg:function(){var e=this;t.chooseImage({count:9,sizeType:["original","compressed"],sourceType:["album"],success:function(t){var a=t.tempFilePaths.map((function(t){return{type:"image",value:t}})),n=getApp(),i=n.globalData,o=e.formData;o.detailList=o.detailList.concat(a),i.PRODUCEDETAIL.detailList=o.detailList,e.toEditDetail()}})},toggleInfinite:function(){this.formData.infinite=!this.formData.infinite},onSubmit:function(){},toSpecification:function(){t.navigateTo({url:"/pages/user/manager/product/specification"})},toEditDetail:function(){t.navigateTo({url:"/pages/user/manager/product/editdetail"})}}};e.default=o}).call(this,a("543d")["default"])}},[["166b","common/runtime","common/vendor"]]]);