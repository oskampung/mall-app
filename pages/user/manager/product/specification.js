(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/manager/product/specification"],{4503:function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=function(){e.e("components/t-table/t-table").then(function(){return resolve(e("f60a"))}.bind(null,e)).catch(e.oe)},a=function(){e.e("components/t-table/t-tr").then(function(){return resolve(e("e511"))}.bind(null,e)).catch(e.oe)},o=function(){e.e("components/t-table/t-th").then(function(){return resolve(e("cfb3"))}.bind(null,e)).catch(e.oe)},c=function(){e.e("components/t-table/t-td").then(function(){return resolve(e("a9e6"))}.bind(null,e)).catch(e.oe)},l={components:{TTable:n,TTr:a,TTh:o,TTd:c},data:function(){return{dialogShow:!1,dialogData:{color:"",size:"",retailPrice:"",originalPrice:"",inventory:"",infinite:!1},specifiList:[{name:"颜色",key:"color",list:[{name:"规格值",value:"黄色"},{name:"规格值",value:"绿色"}]},{name:"尺寸",key:"size",list:[{name:"规格值",value:"XL"},{name:"规格值",value:"XXL"}]}],oldItem:{},oldList:[]}},onShow:function(){var t=getApp(),i=t.globalData,e=i.PRODUCEDETAIL.edittext;e&&(1==e.type?this.editSpecifiListItem(e.index,e.value):2==e.type&&("null"!=e.cindex?this.editSpecifiItemValue(e.index,e.cindex,e.value):this.addSpecifiItemValue(e.index,e.value)),i.PRODUCEDETAIL.edittext=null)},computed:{dialogSize:function(){var t=this.dialogData,i=[];return t.color&&i.push(t.color),t.size&&i.push(t.size),i.join("，")},tableData:function(){var t=this;if(0==this.specifiList.length)return[];var i=this.oldList,e=this.specifiList.map((function(t){var i=t.list.map((function(t){return t.value}));return i})),n=this.generateGroup(e),a=n.map((function(e){var n=e.split(","),a=i.find((function(t){return t.oldKey==e}))||{},o={};return t.specifiList.forEach((function(t,i){o[t.key||i]=n[i]})),o.retailPrice=a.retailPrice||1,o.originalPrice=a.originalPrice||1,o.inventory=a.inventory||1,o.infinite=a.infinite||!1,o.oldKey=e,o}));return a}},filters:{toMoney:function(t){return"￥"+Number(t||0).toFixed(2)}},methods:{addSpecifiListItem:function(){this.specifiList.push({name:"规格名称",key:this.specifiList.length,list:[]})},editSpecifiListItem:function(t,i){this.specifiList[t].name=i},deleteSpecifiListItem:function(t){this.specifiList.splice(t,1)},addSpecifiItemValue:function(t,i){this.specifiList[t].list.push({name:"规格值",value:i})},editSpecifiItemValue:function(t,i,e){this.specifiList[t].list[i].value=e},deleteSpecifiItemValue:function(t,i){this.specifiList[t].list.splice(i,1)},openDialog:function(t,i){this.dialogData=JSON.parse(JSON.stringify(t)),this.dialogData.index=i,this.dialogShow=!0},closeDialog:function(){this.dialogShow=!1},editSpecifi:function(){this.oldList=JSON.parse(JSON.stringify(this.tableData));var t=this.dialogData.index;this.oldList.splice(t,1,this.dialogData),this.closeDialog()},toggleInfinite:function(){this.dialogData.infinite=!this.dialogData.infinite},editText:function(i,e,n){var a="";if(1==i)a=this.specifiList[e].name;else if(null!=n){var o=this.specifiList[e].list;a=o[n].value}t.navigateTo({url:"/pages/user/manager/editdetail/edittext?type=".concat(i,"&value=").concat(a,"&index=").concat(e,"&cindex=").concat(n)})},onSubmit:function(){t.navigateBack({delta:1})},generateGroup:function(t){if(t=JSON.parse(JSON.stringify(t)),t.length>1){var i=[],e=t[0];t.splice(0,1);for(var n=this.generateGroup(t),a=0;a<e.length;a++)for(var o=0;o<n.length;o++)i.push(e[a]+","+n[o]);return i}return t[0]}}};i.default=l}).call(this,e("543d")["default"])},"500c":function(t,i,e){"use strict";e.r(i);var n=e("4503"),a=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(i,t,(function(){return n[t]}))}(o);i["default"]=a.a},5192:function(t,i,e){"use strict";var n={"t-table":function(){return e.e("components/t-table/t-table").then(e.bind(null,"f60a"))}},a=function(){var t=this,i=t.$createElement,e=(t._self._c,t.__map(t.tableData,(function(i,e){var n=t._f("toMoney")(i.retailPrice),a=t._f("toMoney")(i.originalPrice);return{$orig:t.__get_orig(i),f0:n,f1:a}})));t.$mp.data=Object.assign({},{$root:{l0:e}})},o=[];e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return n}))},ab49:function(t,i,e){},e799:function(t,i,e){"use strict";var n=e("ab49"),a=e.n(n);a.a},f6fa:function(t,i,e){"use strict";e.r(i);var n=e("5192"),a=e("500c");for(var o in a)"default"!==o&&function(t){e.d(i,t,(function(){return a[t]}))}(o);e("e799");var c,l=e("f0c5"),r=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],c);i["default"]=r.exports},ff6d:function(t,i,e){"use strict";(function(t){e("1822");n(e("66fd"));var i=n(e("f6fa"));function n(t){return t&&t.__esModule?t:{default:t}}t(i.default)}).call(this,e("543d")["createPage"])}},[["ff6d","common/runtime","common/vendor"]]]);