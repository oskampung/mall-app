(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/setting/setting"],{"68ba":function(t,n,e){"use strict";var a=e("7ba9"),o=e.n(a);o.a},7698:function(t,n,e){"use strict";var a,o=function(){var t=this,n=t.$createElement;t._self._c},s=[];e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return s})),e.d(n,"a",(function(){return a}))},"77ac":function(t,n,e){"use strict";e.r(n);var a=e("92c2"),o=e.n(a);for(var s in a)"default"!==s&&function(t){e.d(n,t,(function(){return a[t]}))}(s);n["default"]=o.a},"7ba9":function(t,n,e){},"92c2":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;e("4a45");var a=e("4be7"),o={data:function(){return{provider:null,name:null,avatar:null,user:{},userId:"",username:"",nickname:"",version:getApp().globalData.VERSION}},onLoad:function(){var n=this.provider;null!=n&&""!=n||(t.getProvider({service:"oauth",success:function(t){n=t.provider[0]}}),this.provider=n),this.userId=t.getStorageSync("userId"),this.avatar=t.getStorageSync("avatar"),this.name=t.getStorageSync("name"),""!=this.userId?this.loadUserInfo(this.userId):t.showToast({title:"您还未登录",icon:"none"})},methods:{loadUserInfo:function(){var t=this;(0,a.getUserInfo)(this.userId).then((function(n){console.log(n),0==n.data.code&&null!=n.data.data&&(t.user=n.data.data,t.username=n.data.data.username,t.nickname=n.data.data.nickname,t.avatar=n.data.data.avatarUrl)}))},updateUser:function(n){if(console.log(n),""==n.detail.value||n.detail.value==this.nickname)return!1;var e={userId:this.userId,username:this.username,name:n.detail.value,nickname:n.detail.value};(0,a.updateUserInfo)(e).then((function(n){console.log(n),0==n.data.code&&t.showToast({title:"修改成功",icon:"success"})}))},gotoAddressTab:function(){return t.chooseAddress({success:function(t){}}),!1},loginOut:function(){var n=this;t.showModal({title:"提示",content:"是否确认退出登录",showCancel:!0,success:function(e){if(e.confirm)t.showToast({title:"您已退出登录",icon:"success"}),n.userId=null,t.clearStorageSync(),setTimeout((function(){t.reLaunch({url:"/pages/tabBar/home/home"})}),300);else if(e.cancel)return!1}})},cleanCache:function(){t.showModal({title:"提示",content:"清楚缓存后会退出登录状态",showCancel:!0,success:function(n){if(n.confirm)t.clearStorageSync(),t.showToast({title:"缓存已清除",icon:"none"});else if(n.cancel)return!1}})},about:function(){t.navigateTo({url:"/pages/user/mall/about"})},gotoPasswd:function(){t.navigateTo({url:"/pages/login/resetpasswd"})},gotoLogin:function(){t.navigateTo({url:"/pages/login/login"})},gotoTab:function(n){t.showToast({title:"尚未开通，敬请关注",icon:"none"})},showType:function(t){this.tabbarIndex=t,this.list=this.orderList[t]},onContact:function(){t.setClipboardData({data:"WHY1314WYC",success:function(){t.showToast({icon:"none",title:"已复制请返回微信添加好友"})}})}}};n.default=o}).call(this,e("543d")["default"])},cc2d:function(t,n,e){"use strict";e.r(n);var a=e("7698"),o=e("77ac");for(var s in o)"default"!==s&&function(t){e.d(n,t,(function(){return o[t]}))}(s);e("68ba");var c,i=e("f0c5"),u=Object(i["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],c);n["default"]=u.exports},dc26:function(t,n,e){"use strict";(function(t){e("1822");a(e("66fd"));var n=a(e("cc2d"));function a(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])}},[["dc26","common/runtime","common/vendor"]]]);