(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/register"],{"00a5":function(e,t,o){"use strict";o.r(t);var n=o("5a08"),a=o.n(n);for(var i in n)"default"!==i&&function(e){o.d(t,e,(function(){return n[e]}))}(i);t["default"]=a.a},2220:function(e,t,o){"use strict";var n=o("965c"),a=o.n(n);a.a},"33a8":function(e,t,o){"use strict";o.r(t);var n=o("e132"),a=o("00a5");for(var i in a)"default"!==i&&function(e){o.d(t,e,(function(){return a[e]}))}(i);o("2220");var s,c=o("f0c5"),r=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);t["default"]=r.exports},"5a08":function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o("4a45"),a=o("f169");i(o("394c"));function i(e){return e&&e.__esModule?e:{default:e}}var s={data:function(){return{face:"../../static/img/logo.png",phoneNumber:"",code:"",passwd:"",getCodeText:"获取验证码",getCodeBtnColor:"#ffffff",getCodeisWaiting:!1,appName:getApp().globalData.APPNAME}},onLoad:function(){this.getLogo()},methods:{Timer:function(){},getCode:function(){var t=this;if(e.hideKeyboard(),!this.getCodeisWaiting){if(!/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.phoneNumber))return e.showToast({title:"请填写正确手机号码",icon:"none"}),!1;this.getCodeText="发送中...",e.request({url:n.requestURL+"/admin/mobile/sms",data:{type:"REG",mobile:this.phoneNumber},header:{"custom-header":"hello"},method:"POST",success:function(o){if(0!=o.data.code)return t.getCodeText="获取验证码",e.showToast({title:o.data.msg,icon:"none"}),!1;t.getCodeisWaiting=!0,console.log(o.data),t.getCodeBtnColor="rgba(255,255,255,0.5)",e.showToast({title:"验证码已发送",icon:"none"}),setTimeout((function(){t.setTimer()}),100),t.code=o.data.data},error:function(o){console.log("短信发送失败"),t.getCodeText="获取验证码",e.showToast({title:"验证码发送失败，请稍后再试",icon:"none"})}})}},setTimer:function(){var e=this,t=60;this.getCodeText="重新获取(60)",this.Timer=setInterval((function(){if(t<=0)return e.getCodeisWaiting=!1,e.getCodeBtnColor="#ffffff",e.getCodeText="获取验证码",void clearInterval(e.Timer);e.getCodeText="重新获取("+t+")",t--}),1e3)},getLogo:function(){var e=this;(0,a.getParam)("_LOGO").then((function(t){console.log(t),e.face=t.data.data}))},doReg:function(){return e.hideKeyboard(),/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.phoneNumber)?(e.showLoading({title:"提交中..."}),e.request({url:n.requestURL+"/admin/user/reg",data:{password:this.passwd,phone:this.phoneNumber,source:"wechat_mini",smsCode:this.code,tenantId:1},header:{"custom-header":"auu"},method:"POST",success:function(t){console.log(t),0==t.data.code&&t.data.data?e.setStorage({key:"UserList",data:t.data,success:function(){e.hideLoading(),e.showToast({title:"注册成功",icon:"success"}),setTimeout((function(){e.navigateBack()}),1e3)}}):e.showToast({title:t.data.msg,icon:"none"})},fail:function(t){console.log(t),e.showToast({title:t.data.msg,icon:"none"})}}),e.hideLoading(),!1):(e.showToast({title:"请填写正确手机号码",icon:"none"}),!1)},toLogin:function(){e.hideKeyboard(),e.redirectTo({url:"login"}),e.navigateBack()}}};t.default=s}).call(this,o("543d")["default"])},"965c":function(e,t,o){},e132:function(e,t,o){"use strict";var n,a=function(){var e=this,t=e.$createElement;e._self._c},i=[];o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){return n}))},fc0c:function(e,t,o){"use strict";(function(e){o("1822");n(o("66fd"));var t=n(o("33a8"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("543d")["createPage"])}},[["fc0c","common/runtime","common/vendor"]]]);